------------------------------------------------------------
-- lab06.이름.product.sql
-- 8/19 실기 시험 문제
-- 13:00 ~ 13:40 까지 진행
-- 시간 종료 후 제출 필수
------------------------------------------------------------


------------------------------------------------------------
-- 1. 테이블 생성
/*
테이블 이름 : PRODUCT
컬럼명 : code VARCHAR2(4) PK           -- 제품코드 : 'P001', 'P002' 와 같이 증가함
       name VARCHAR2(40) NOT NULL    -- 제품명
       price NUMBER(9)               -- 가격
       quantity NUMBER(4)            -- 재고수량
       reg_date DATE    기본값:sysdate -- 등록일
       mod_date DATE                 -- 수정일
       
       PK는 반드시 이름을 주어 작성 : PK_PRODUCT 라는 이름을 쓸 것
*/
------------------------------------------------------------


    
------------------------------------------------------------
-- 2. 시퀀스 생성
-- 시퀀스 이름 : SEQ_PRODUCT
-- 1부터 시작
-- 1씩 증가
-- NOCYCLE
-- MAXVALUE 999
------------------------------------------------------------



------------------------------------------------------------
-- 3. 쿼리 작성
--    모든 DML 구문 후에는 COMMIT 할 것
------------------------------------------------------------
-- (1) 데이터 인서트 쿼리 작성
---- PK 인 code는 SEQ_PRODUCT 를 사용하여
---- 자동으로 P001, P002, ... , 등으로 생성하도록 작성 

---- name, price, quantity 컬럼은 직접 받도록 쿼리 작성
---- reg_date 는 테이블 설정인 sysdate 가 그대로 작동하도록 작성

---- 입력할 데이터
-- code, name, price, quantity 순서대로
-- 'P001', '슈퍼스타', 87200, 5
-- 'P002', '리복 로얄 테크큐 티', 42000, 20
-- 'P003', '나이키 탄준 샌들', 41300, 30
-- 'P004', '라이트라이드 샌들 우먼', 40200, 7
-- 'P005', '지제 (WOMAN)', 29000, 15
-- 다섯개의 INSERT 쿼리 작성 할 것.
------------------------------------------------------------




------------------------------------------------------------
-- (2) 데이터 수정 쿼리 작성 
-- 전체 컬럼(PK 제외) 수정쿼리 작성
-- 각 P001 ~ P005 에 대해
-- PK 를 걸어서 모든 컬럼을 수정할 수 있는 쿼리 작성

-- 수정할 데이터
-- code, name, price, quantity 순서대로, 
--             가격은 이전가격의 10% 할인가로 업데이트

-- 'P001', '슈퍼스타 (플립샌들)', 87200, 2
-- 'P002', '리복 로얄 테크큐 티(L)', 42000, 20
-- 'P003', 'NIKE 탄준 샌들', 41300, 3
-- 'P004', '라이트라이드 샌들 (WOMAN)', 40200, 15
-- 'P005', '지제 (WOMAN)', 29000, 3

-- 모든 수정 쿼리는  MOD_DATE 가 sysdate 로 업데이트 되도록 작성
------------------------------------------------------------



------------------------------------------------------------
-- (3) PK 를 걸어서 한 건씩 삭제 쿼리 작성 : 5개 작성
------------------------------------------------------------


------------------------------------------------------------
-- (4) PK 를 걸어 제품 1개씩 조회하는 쿼리 작성 : 5개 작성
------------------------------------------------------------


------------------------------------------------------------
-- (5) 전체 목록을 조회하는 쿼리 작성 : 2개
--     제품코드 오름차순 정렬 1개, 제품명 오름차순 정렬 1개
------------------------------------------------------------


------------------------------------------------------------
-- (6) 이름에 '샌들' 이 들어가는 제품 조회 쿼리 작성 : 이름 오른차순 정렬
------------------------------------------------------------

 
------------------------------------------------------------
-- (7) 가격이  40000 원 이상인 제품 조회 쿼리 작성 : 가격 오름차순 정렬
------------------------------------------------------------


------------------------------------------------------------
-- (8) 가격이 20000 ~ 50000 사이인 제품 조회 쿼리 작성 : 가격 오름차순 정렬
------------------------------------------------------------


------------------------------------------------------------
-- (9) 가격이 50000 원 이하인 제품 조회 쿼리 작성 : 가격 오름차순 정렬
------------------------------------------------------------


------------------------------------------------------------
-- (10) 가격이 가장 비싼 제품 1개 조회 쿼리 작성 : 
--      ROWNUM 을 사용하여 조회할 것, MAX() 함수 사용 금지
------------------------------------------------------------
         

------------------------------------------------------------
-- (11) 재고 수량이 가장 많은 제품 1개 조회 쿼리 작성 : 
--      ROWNUM 을 사용하여 조회할 것, MAX() 함수 사용 금지
------------------------------------------------------------



-------------------------------문제 끝-----------------------------
